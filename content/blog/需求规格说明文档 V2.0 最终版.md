---
title: "需求规格说明文档"
author: [kunduin]
date: "2018-03-02"
---
 


# 需求规格说明文档

### v2.0.0 最终版

#### 南京大学16级软件学院软工二第二组


---


## **更新历史**

| 修改成员 | 修改时间 | 修改原因                         | 版本号 |
| -------- | -------- | -------------------------------- | ------ |
| 全体人员 | 17/10/01 | 整合套件，添加目录               | v1.0.1 |
| 徐翔哲   | 17/10/01 | 改变用例15的系统级需求的标题级数 | v1.0.2 |
| 徐翔哲   | 17/10/01 | 改正用例15的错别字               | v1.0.3 |
| 吴新宇   | 17/10/02 | 增加数据格式，增加用户界面       | v1.0.4 |
| 吴新宇   | 17/10/25 | 增加封面                         | v1.0.5 |
| 温耀铭、徐一舟| 17/11/12 | 修改单据的功能需求表述 | v1.0.6 |
| 温耀铭   | 17/12/20 | 修改数据格式要求 | v1.0.7 |
| 温曜铭   | 18/01/12 | 整合成为最终版               |v2.0.0|



## **目录**
- [1. 引言](#1-引言)
    - [1.1 目的](#11-目的)
    - [1.2 范围](#12-范围)
    - [1.3 参考文献](#13-参考文献)
- [2. 总体描述](#2-总体描述)
    - [2.1 商品前景](#21-商品前景)
        - [2.1.1 背景与机遇](#211-背景与机遇)
        - [2.1.2 业务需求](#212-业务需求)
    - [2.2 商品功能](#22-商品功能)
    - [2.3 用户特征](#23-用户特征)
    - [2.4 约束](#24-约束)
    - [2.5 假设和依赖](#25-假设和依赖)
- [3. 详细需求描述](#3-详细需求描述)
    - [3.1 对外接口需求](#31-对外接口需求)
        - [3.1.1 用户界面](#311-用户界面)
        - [3.1.2 通信接口](#312-通信接口)
    - [3.2 功能需求](#32-功能需求)
        - [3.2.1 商品信息管理](#321-商品信息管理)
        - [3.2.2 库存查看](#322-库存查看)
        - [3.2.3 库存盘点](#323-库存盘点)
        - [3.2.4 库存管理报单](#324-库存管理报单)
        - [3.2.5 库存报警单](#325-库存报警单)
        - [3.2.6 客户管理](#326-客户管理)
        - [3.2.7 制定进货单](#327-制定进货单)
        - [3.2.8 制定销售单](#328-制定销售单)
        - [3.2.9 制定进货退货单](#329-制定进货退货单)
        - [3.2.10 制定销售退货单](#3210-制定销售退货单)
        - [3.2.11 制定付款单](#3211-制定付款单)
        - [3.2.12 制定收款单](#3212-制定收款单)
        - [3.2.13 银行账户管理](#3213-银行账户管理)
        - [3.2.14 制定现金费用单](#3214-制定现金费用单)
        - [3.2.15 查看经营历程表](#3215-查看经营历程表)
        - [3.2.16 查看经营状况表](#3216-查看经营状况表)
        - [3.2.17 查看销售明细表](#3217-查看销售明细表)
        - [3.2.18 期初建账](#3218-期初建账)
        - [3.2.19 审批单据](#3219-审批单据)
        - [3.2.20 制定销售策略](#3220-制定销售策略)
    - [3.3 非功能需求](#33-非功能需求)
        - [3.3.1 安全性](#331-安全性)
        - [3.3.2 可维护性](#332-可维护性)
        - [3.3.3 易用性](#333-易用性)
        - [3.3.4 可靠性](#334-可靠性)
        - [3.3.5 业务规则](#335-业务规则)
        - [3.3.6 约束](#336-约束)
    - [3.4 数据需求](#34-数据需求)
        - [3.4.1 数据定义](#341-数据定义)
        - [3.4.2 默认数据](#342-默认数据)
        - [3.4.3 数据格式要求](#343-数据格式要求)
    - [3.5 其他需求](#35-其他需求)

---

## 1. 引言

---

### 1.1 目的

本文档描述了ERP系统的功能需求和非功能需求，开发小组的软件系统实现与验证工作都以此文档为依据
除特殊说明之外，本文档所包含的需求都是最高优先级需求。

---


### 1.2 范围

ERP系统是为xx灯具公司开发的系统，开发目标是帮助该公司扩大规模，增长企业业务量、办公场所、员工数，适应新的环境，提高工作效率和用户满意度。
通过ERP系统的应用，期望为系统上线运行六个月后，减少挤压库存，增加销售额，提高财务人员工作效率，为经理的决策做支持。


---

### 1.3 参考文献

1. IEEE 标准
2. ERP系统用例文档v4.2.1



---

## 2. 总体描述
为提高灯厂生效效率而开发库存管理系统


### 2.1 商品前景
一片光明


#### 2.1.1 背景与机遇

一民营企业专业从事灯具照明行业，是某灯具的南京地区总代理，主要在南京负责品牌的推广及项目的落地销售、分销的批发等工作，服务对象包括项目业主、施工单位、分销商、设计院、终端用户等。



#### 2.1.2 业务需求

- BR1: 在系统使用6个月后，商品积压、缺货和报废的现象要减少50%
- BR2: 在系统使用3个月后，销售人员工作效率提高50%
- BR3: 在系统使用6个月后，增长企业业务量增加50%
- BR4: 在系统使用6个月后，用户满意度提高20%
    - 最好情况：40%
    - 最可能情况：20%
    - 最坏情况：10%
  


### 2.2 商品功能

- SF1: 管理商品信息，并在库存数量低于警戒值时发出提醒
- SF2: 库存数据盘点，计算一段时间内库存变化情况
- SF3: 管理客户信息
- SF4: 记录进货销售(及退货)信息
- SF5: 查看财务单据，掌握公司动态
- SF6: 期初建账，按财年管理账目
- SF7: 总经理审批单据，掌握公司业务动向
- SF8: 制定营销策略，鼓励客户购买

---

### 2.3 用户特征



##### 用户1：库存管理人员
系统有1到2名库存管理人员，负责对商品分类和商品的信息的管理。能够简单使用办公信息化系统。对新系统基本持积极态度。不希望增加现有工作量
##### 用户2：进货销售人员
系统有4到8名进货销售人员，负责完成进货单盒销售单。对新系统基本持积极态度。不希望增加现有工作量
##### 用户3：财务人员
系统有1到2名财务人员，负责管理财务相关事务。办公信息化系统较强。对新系统持积极态度。不希望增加现有工作量
##### 用户4：总经理
系统有2名总经理，负责系统的宏观掌控。能够熟练使用办公信息化系统。对新系统持积极态度。

---

### 2.4 约束

- CON1：Javafx界面
- CON2：Java开发
- CON3：可以在Windows和OS上运行
- CON4：用户远程使用系统
- CON5：图形化界面进行操作
- CON6：在开发中开发者要提交软件需求规格说明文档、设计描述文档和测试报告

---

### 2.5 假设和依赖

- AE1：系统需提供新建账户功能，以保证用户的使用权限。
- AE2：管理员登录账号为admin，初始密码admin，管理员账号主要负责对用户账户的信息和权限管理

---

## 3. 详细需求描述



---

### 3.1 对外接口需求


---

#### 3.1.1 用户界面

- UI1 用户登录:系统应为工作人员提供快捷方便美观的登录方式，保证工作人员工作时的效率。界面图示为:

![登陆界面](http://101.37.19.32:10080/gitHubakers/ERPnju/raw/04b0da393827f59b80d5755dbba7c54db0e630d8/doc/%E9%9C%80%E6%B1%822/mdImg/%E7%99%BB%E9%99%86%E7%95%8C%E9%9D%A2.png)


- UI2 商品信息管理:系统应该使用树状文件管理风格的界面，帮助库存管理人员使用商品信息管理界面完成商品管理任务。其中内容皆为分类的界面图示为:![商品管理](http://101.37.19.32:10080/gitHubakers/ERPnju/raw/04b0da393827f59b80d5755dbba7c54db0e630d8/doc/%E9%9C%80%E6%B1%822/mdImg/%E5%BA%93%E5%AD%98%E7%AE%A1%E7%90%86%E4%BA%BA%E5%91%98/%E5%95%86%E5%93%81%E7%AE%A1%E7%90%86.png) 其中内容皆为商品的界面图示为:![商品管理 – 商品](http://101.37.19.32:10080/gitHubakers/ERPnju/raw/04b0da393827f59b80d5755dbba7c54db0e630d8/doc/%E9%9C%80%E6%B1%822/mdImg/%E5%BA%93%E5%AD%98%E7%AE%A1%E7%90%86%E4%BA%BA%E5%91%98/%E5%95%86%E5%93%81%E7%AE%A1%E7%90%86%20%E2%80%93%20%E5%95%86%E5%93%81.png)
  - UI2.1 在库存管理人员选择商品信息时，系统应该展开商品列表。
    - UI1.1.1 在商品列表为空时，如果库存管理人员选择添加操作，系统应该只允许用户添加分类
    - UI1.1.2 在操作员目录下有商品时时，如果用户选择添加操作，系统应该只允许用户添加商品
- UI3 库存查看:系统应该使用直观高效的方式管理界面，可以让工作人员在查阅库存时更为高效。图示为:![库存查看](http://101.37.19.32:10080/gitHubakers/ERPnju/raw/04b0da393827f59b80d5755dbba7c54db0e630d8/doc/%E9%9C%80%E6%B1%822/mdImg/%E5%BA%93%E5%AD%98%E7%AE%A1%E7%90%86%E4%BA%BA%E5%91%98/%E5%BA%93%E5%AD%98%E6%9F%A5%E7%9C%8B.png)
- UI4 库存盘点:系统应该使用表格方式展示数据，使得操作人员理解更直观。界面图示为:![库存盘点](mdImg/库存管理人员/库存盘点.png)
- UI5 库存管理报单:系统应该直观的为工作人员提供赠送单种类以供用户选择。界面图示为:![库存报单](mdImg/库存管理人员/库存报单.png)
  - UI5.1 当用户选择库存赠送单时，系统提供单据细节。界面图示为:![库存报单 – 库存赠送单](mdImg/库存管理人员/库存报单 – 库存赠送单.png)
  - UI5.2 当用户选择库存报溢单时，系统提供单据细节。界面图示为:![库存报单 – 库存报溢单](mdImg/库存管理人员/库存报单 – 库存报溢单.png)
  - UI5.3 当用户选择库存报损单是，系统提供单据细节。界面图示为:![库存报单 – 库存报损单](mdImg/库存管理人员/库存报单 – 库存报损单.png)
- UI6 信息管理:系统应该有信息管理界面，用来帮助用户接受各种报警或反馈的信息。界面图示为:![信息管理](mdImg/库存管理人员/信息管理.png)
- UI7 报警单:操作员在信息管理点击报警单的详情页，系统会显示详细的报警单信息。界面图示为:![信息管理 –报警单](mdImg/库存管理人员/信息管理 –报警单.png)
- UI8 客户管理:系统应为进货销售人员展示直观的用户列表。界面图示为:![客户管理](mdImg/进货销售人员/客户管理.png)
- UI9 制定进货单:在进货销售人员制定进货单时，系统应该提供可编辑列表提高进货销售人员效率。界面图示为:![进货单](mdImg/进货销售人员/进货单.png)
- UI10 制定销售单:在进货销售人员制定销售单时，系统应该提供可编辑列表提高进货销售人员效率。界面图示为:![销售单](mdImg/进货销售人员/销售单.png)
- UI11 制定进货退货单:在进货销售人员制定进货退货单时，系统应该提供可编辑列表提高进货销售人员效率。界面图示为:![进货退货单](mdImg/进货销售人员/进货退货单.png)
- UI12 制定销售退货单:在进货销售人员制定销售退货单时，系统应该提供可编辑列表提高进货销售人员效率。界面图示为:![销售退货单](mdImg/进货销售人员/销售退货单.png)
- UI13 制定付款单:在财务人员制定付款单时，系统应该提供可编辑列表提高财务人员效率。界面图示为:![付款单](mdImg/财务人员/付款单.png)
- UI14 制定收款单:在财务人员制定收款单时，系统应该提供可编辑列表提高财务人员效率。界面图示为:![收款单](mdImg/财务人员/收款单.png)
- UI15 银行账户管理:在财务人员管理银行账户时，系统应该提供可编辑列表提高财务人员效率。界面图示为:![银行账户管理](mdImg/财务人员/银行账户管理.png)
- UI16 制定现金费用单:在财务人员制定现金费用单时，系统应该提供可编辑列表提高财务人员效率。界面图示为:![现金费用单](mdImg/财务人员/现金费用单.png)
- UI17 查看经营历程表:在财务人员查看经营历程表时，系统应该提供列表提高财务人员效率。界面图示为:![查看经营历程表](mdImg/财务人员/查看经营历程表.png)
- UI18 查看经营历程表:在财务人员查看经营历程表时，系统应该提供列表提高财务人员效率。界面图示为:![查看经营历程表](mdImg/财务人员/查看经营历程表.png)
- UI19 查看销售明细表:在财务人员查看销售明细表时，系统应该提供列表提高财务人员效率。界面图示为:![销售明细表](mdImg/财务人员/销售明细表.png)
- UI20 期初建账:在财务人员期初建账时，系统应该提供列表提示用户最新账单。界面图示为:![期初建账](mdImg/财务人员/期初建账.png)
- UI21 审批单据:系统应提供类似信息管理的界面帮助总经理审批单据。界面图示为:![审批单据](mdImg/总经理/审批单据.png)
- UI22 制定销售策略:在总经理制定销售策略时，系统应该提供可编辑列表提高总经理效率。界面图示为:![制定销售策略](mdImg/总经理/制定销售策略.png)

---

#### 3.1.2 通信接口

http通信

---

### 3.2 功能需求

#### 3.2.1 商品信息管理
##### 3.2.1.1 特征描述
- 库存管理人员完善商品相关信息，对商品分类与具体商品进行管理
##### 3.2.1.2 刺激/响应序列
- 刺激：用户进入待添加对象的目录选择添加商品或添加商品分类的操作
- 响应：系统返回信息编辑表格
- 刺激：用户提交合法输入的商品分类或商品的相关信息
- 响应：系统更新信息并显示更新后的信息
- 刺激：用户选中对象
- 响应：系统标记该对象
- 刺激：用户选择对已标记的对象进行修改
- 响应：系统返回编辑表格
- 刺激：用户选择对已标记的可删除的对象进行删除
- 响应：系统返回提示“是否确认删除，一旦删除不可更改”
- 刺激：用户确认删除
- 响应：系统删除商品分类或商品信息，返回“删除成功”
- 刺激：用户选择对已标记的不可删除的对象进行删除
- 响应：系统返回“该对象不可删除”
- 刺激：用户进入要查看的分类
- 响应：系统返回该分类的所有子项目
- 刺激：用户选中商品选择查看或通过编号、名称、型号查询商品
- 响应：系统返回符合查询条件的商品的名称、编号、型号、库存数量、进价、零售价、警戒值、最近进价、最近零售价
- 刺激：用户第一次添加时选择添加商品
- 响应：系统只允许添加商品分类
- 刺激：用户输入不合规范的数据，具体参见相关功能需求中的定义
- 响应：系统提示数据不合规范
- 刺激：用户选择提交后检测出重名
- 响应：系统返回“名称重复”并返回编辑界面
- 刺激：用户选择返回上一级界面
- 响应：系统返回上一级界面
- 刺激：用户提交成功
- 响应：系统更新信息并返回更新后的信息

##### 3.2.1.3 相关功能需求
###### CommodityManagement.Input
- CommodityManagement.Input.Keyboard
    - 系统允许用户用键盘与鼠标进行输入
- CommodityManagement.Input.Add
    - 用户选择增加商品或商品分类操作，参见CommodityManagement.Add
- CommodityManagement.Input.Delete
    - 用户选择删除商品或商品分类操作，参见CommodityManagement.Delete
- CommodityManagement.Input.Modify
    - 用户选择修改商品或商品分类操作，参见CommodityManagement.Modify
- CommodityManagement.Input.Find
    - 用户选择查看商品，参见CommodityManagement.Find
- CommodityManagement.Input.Invalid
    - 系统能够检测用户的非法输入，参见[格式相关](#343-数据格式要求)


###### CommodityManagement.Submit
- CommodityManagement.Submit.NotAllowed
    - 存在非法输入并提交，参见[格式相关](#343-数据格式要求)，系统返回存在非法输入
- CommodityManagement.Submit.Allowed
    - 信息完整且没有非法输入时用户选择提交，系统进入重名检测，参见CommodityManagement.Submit.Duplicate
- CommodityManagement.Submit.Missing
    - 必填或必选项目信息缺失时用户选择提交，系统不允许提交
- CommodityManagement.Submit.Duplicate
    - 提交后进行重名检测，检测存在重名，用户提交失败，系统返回“名称重复”并返回编辑界面，不存在时用户提交成功


###### CommodityManagement.Add
- CommodityManagement.Add.FirstAdd
    - 用户第一次选择添加操作，系统只允许添加商品分类
- CommodityManagement.Add.Conflict
    - 在该目录中已经有商品的情况下用户选择添加操作，系统只允许用户添加新的商品或在该目录中已经有商品分类的情况下用户选择添加操作，系统只允许用户添加新的商品分类
- CommodityManagement.Add.Cancel
    - 中途退出，参见CommodityManagement.Cancel
- CommodityManagement.Add.Number
    - 商品分类或商品的编号根据所属分类与添加先后次序由系统自动生成，编号格式参见 [编号相关](#343-数据格式要求)
- CommodityManagement.Add.InitInventory
    - 添加该商品时可以初始化库存数量
- CommodityManagement.Add.Duplicate
    - 系统不允许有重复名称出现，提交时检查持久化保存的信息，参见Commodity.Submit.Duplicate
- CommodityManagement.Add.Submit
    - 提交信息，参见CommodityMangement.Submit
- CommodityManagement.Add.End
    - 系统更新信息并显示更新后信息


###### CommodityManagement.Delete
- CommodityManagement.Delete.Judge
    - 系统判断要删除的对象是否为能够删除的对象，能够删除的对象是指当对象刚创建出来创建信息有误并且没有与别的模块产生交互的情况下可以被删除，一旦产生了交互，例如在销售单上出现则不允许删除。
- CommodityManagement.Delete.Invalid
    - 用户对不可删除的对象选择删除操作时系统返回“当前对象不可删除”
- CommodityManagement.Delete.Confirm
    - 用户提交删除申请之后，系统返回提示“是否确认删除”，防止误删
- CommodityManagement.Delete.End
    - 系统更新信息并显示更新后信息


###### CommodityManagement.Modify
- CommodityManagement.Modify.Duplicate
    - 名称要检查重名，参见CommodityManagement.Add.Duplicate
- CommodityManagement.Modify.Submit
    - 提交修改信息，参考CommodityManagement.Add.Submit
- CommodityManagement.Modify.End
    - 系统更新信息并显示更新后信息


###### CommodityManagement.Find
- CommodityManagement.Find.Show
    - 用户通过选择查看功能查找或筛选查找成功时，系统返回该商品的名称、编号、型号、库存数量、进价、零售价、警戒值、最近进价、最近零售价
- CommodityManagement.Find.Filter
    - 系统允许根据通过编号、名称、型号查找对象
- CommodityManagement.Find.Return
    - 用户选择返回上一级界面，系统返回上一级界面

#### 3.2.2 库存查看

##### 3.2.1.1 特征描述
- 库存管理人员查看一段时间内的库存数量与财务的变化
##### 3.2.2.2 刺激/响应序列
- 刺激：用户选择查看库存功能
- 响应：系统返回表格，包括起始时间和结束时间
- 刺激：用户设定要查看的时间段
- 响应：系统返回该时间段内出/入库数量、进/出货销售金额与库存数量的合计
- 刺激：用户选择结束时间早于开始时间
- 响应：系统提示“结束时间早于开始时间”
- 刺激：用户选择返回上一级界面
- 响应：系统返回上一级界面


##### 3.2.2.3 相关功能需求
###### StorageBrowse.Time
- StorageBrowse.Time.SetTime
    - 用户设定查找时间的开始时间和结束时间
- StorageBrowse.Time.Chooseable
    - 系统提供该系统建立的最初时间点作为时间的下限，时间上限为操作的当天日期的最后一个整数小时
- StorageBrowse.Time.Check
    - 系统检查是否存在结束时间早于开始时间的情况，若存在则提示“结束时间早于开始时间”


######  StorageBrowse.Submit
- StorageBrowse.Submit.Allowed
    - 用户选择的时间段符合规范时提交，用户提交成功，返回参见StorageBrowse.Submit.End
- StorageBrowse.Submit.NotAllowed
    - 用户选择的时间段出现结束时间早于开始时间的情况下，系统不允许用户提交


######  StorageBrowse.End
- StorageBrowse.End.Show
    - 用户提交成功，系统返回该时间段内出/入库数量、进/出货销售金额与库存数量的合计
- StorageBrowse.End.Return
    - 用户选择返回上一级界面，系统返回上一级界面


#### 3.2.3 库存盘点
##### 3.2.3.1 特征描述
- 库存管理人员盘点库存，方便管理人员了解信息以便采取一些后续的措施对库存进行调整
##### 3.2.3.2 刺激/响应序列
- 刺激：用户选择浏览全部信息选项
- 响应：系统获取当前操作时间并返回当天的各种商品的信息，参见[内容相关](#343-数据格式要求)
- 刺激：用户选择排序条件后选择排序选项，条件参见[排序相关](#343-数据格式要求)
- 响应：系统返回排序后数据
- 刺激：用户通过关键字或按分类查找方式查询某商品的库存快照且商品存在
- 响应：返回该商品的信息，参见[内容相关](#343-数据格式要求)
- 刺激：用户查找的商品不存在
- 响应：系统返回“对不起该商品不存在”
- 刺激：用户选择“将库存快照导出到Excel”
- 响应：系统返回Excel表格
- 刺激：用户选择返回上一级界面
- 响应：系统返回上一级界面
##### 3.2.3.3 相关功能需求
###### StorageCheck.Sort
- StorageCheck.Sort.Priority
    - 系统根据可排序字段选择的先后次序来决定排序的优先级，仓库操作人员可以在中途取消根据某个字段排序，取消后该字段后面的字段优先级会提高，可排序字段参[排序相关](#343-数据格式要求)
- StorageCheck.Sort.Show
    - 系统根据可排序字段的选择先后顺序排序，返回排序后的商品信息


###### StorageCheck.Find
- StorageCheck.Find.Show
    - 选择浏览全部信息或单独查找成功时，系统返回商品的库存快照
- StorageCheck.Find.Filter
    - 系统允许根据通过编号、名称、型号查找，也可以直接通过选择分类查找商品
- StorageCheck.Find.Null
    - 若商品不存在，即查找失败，系统返回“对不起，该商品不存在”
- StorageCheck.Find.Return
    - 用户选择返回上一级界面，系统返回上一级界面


###### StorageCheck.Excel
- StorageCheck.Excel.Export
    - 系统允许用户将快照导出到excel文件    


#### 3.2.4 库存管理报单
##### 3.2.4.1 特征描述
- 库存管理人员创建表单并更新商品清单
##### 3.2.4.2 刺激/响应序列
- 刺激：库存管理人员选择所要创建的表单类型
- 响应：系统返回表单框架，显示库存商品列表和可填写部分
- 刺激：库存管理人员选择打开草稿
- 响应：系统返回所选表单的单据模板草稿
- 刺激：用户填写单据并选择提交，提交成功
- 响应：系统更新信息显示更新后信息，返回上一级界面并为交付审核的单据自动生成编号
- 刺激：用户选择提交前退出系统
- 响应：系统返回“保存/不保存/取消”
- 刺激：用户选择保存
- 响应：系统保存草稿并返回上一级界面
- 刺激：用户选择不保存
- 响应：系统不作任何修改并返回上一级界面
- 刺激：用户选择取消
- 响应：系统不退出并返回编辑界面
- 刺激：用户输入不合规范的数据，具体参见相关功能需求中的定义[格式相关](#343-数据格式要求)
- 响应：系统提示数据不合规范
- 刺激：必选或必填项目信息缺失时用户选择提交
- 响应：系统返回“请填写完整信息”后返回编辑界面

##### 3.2.4.3 相关功能需求
###### StorageManagement.Input
- StorageManagement.Input.Keyboard
    - 系统应该允许库存管理人员用键盘进行输入
- StorageManagement.Input.Gift
    - 用户选择新建库存赠送单，参见StorageManagement.Gift
- StorageManagement.Input.Over
    - 用户选择新建库存报溢单，参见StorageManagement.Over
- StorageManagement.Input.Below
    - 用户选择新建库存报损单，参见StorageManagement.Below
- StorageManagement.Input.Draft
    - 用户选择打开某表单的草稿，参见StorageManagement.Draft
- StorageManagement.Input.Invalid
    - 系统能够检测用户的非法输入，参见[格式相关](#343-数据格式要求)


###### StorageManagement.Cancel
- StorageManagement.Cancel.Save
    - 用户选择提交选项之前退出系统，系统返回“保存/不保存/取消”，用户选择保存，系统保存草稿并返回上一级界面
- StorageManagement.Cancel.NotSave
    - 用户选择提交选项之前退出系统，系统返回“保存/不保存/取消”，用户选择不保存，系统不作任何修改并返回上一级界面
- StorageManagement.Cancel.Cancel
    - 用户选择提交选项之前退出系统，系统返回“保存/不保存/取消”，用户选择取消，系统不退出并返回编辑界面


######  StorageManagement.Submit
- StorageManagement.Submit.NotAllowed
    - 存在非法输入，参见[格式相关](#343-数据格式要求)，系统不允许用户进行提交
- StorageManagement.Submit.Allowed
    - 没有非法输入时系统允许用户选择提交
- StorageManagement.Submit.Missing
    - 必填或必选项目信息缺失时用户选择提交，系统不允许提交，信息完整时用户提交成功，系统交付审核并生成该单据编号，参见StorageManagement.Submit.Number

###### StorageManagement.Gift
- StorageManagement.Gift.Build
    - 库存赠送单可由库存管理人员创建，也可由系统根据总经理的销售策略自动生成
- StorageManagement.Gift.Cancel
    - 中途退出，参见StorageManagement.Cancel
- StorageManagement.Gift.Submit
    - 提交编辑信息，参见StorageManagement.Submit
- StorageManagement.Gift.End
    - 更新系统信息并显示更新后信息，返回上一级界面，单据审核通过后系统更改库存信息


###### StorageManagement.Over
- StorageManagement.Over.Cancel
    - 中途退出，参见StorageManagement.Cancel
- StorageManagement.Over.Submit
    - 提交编辑信息，参见StorageManagement.Submit
- StorageManagement.Over.End
    - 当前操作成功，参见StorageManagement.Gift.End


###### StorageManagement.Below
- StorageManagement.Below.Cancel
    - 中途退出，参见StorageManagement.Cancel
- StorageManagement.Below.Submit
    - 提交编辑信息，参见StorageManagement.Submit
- StorageManagement.Below.End
    - 当前操作成功，参见StorageManagement.Gift.End


###### StorageManagement.Draft
- StorageManagement.Draft.OneCase
    - 系统只保存每一种单据用户最后一次的保存记录
- StorageManagement.Draft.Open
    - 用户选择打开表单草稿，系统返回用户选择的表单的单据模板草稿


#### 3.2.5 查看报警单
##### 3.2.5.1 特征描述
- 库存管理人员收到某商品低于警戒线的提示，防止库存不够的情况
##### 3.2.5.2 刺激/响应序列
- 刺激：用户设置警戒值阈值
- 响应：系统更新警戒值
- 刺激：销售／进货退货／报损／赠送单据通过审批后某种商品的库存数量低于警戒数量
- 响应：系统向库存管理人员发送消息，消息内容为一个表格，包括低于警报值的商品表单和每件商品缺损的数额和该商品现在的库存数量

##### 3.2.5.3 相关功能需求

###### StorageManagement.Alarm
- 参见3.2.21.3
---

#### 3.2.6 客户管理

##### 3.2.6.1 特性描述

进货销售人员通过验证后使用该系统对客户的信息进行管理包括新增客户，查询客户，修改客户信息的功能。

优先级=高

##### 3.2.6.2 刺激/响应序列
- 刺激：进货销售人员选择客户管理功能
- 响应：系统显示所有客户列表
- 刺激：进货销售人员选择查询客户
- 响应：系统显示输入关键字搜索的输入界面
- 刺激：进货销售人员输入关键字(包括姓名，编号)
- 响应：系统显示符合条件的客户列表
- 刺激：进货销售人员选择特定客户信息
- 响应：系统显示该客户具体信息(包括编号，分类，级别，姓名，电话，地址，邮编，电子邮箱，默认业务员，应付额度，应收，应付)
- 刺激：进货销售人员选择新增客户
- 响应：系统显示新建客户界面(可修改内容包括分类，级别，姓名，电话，地址，邮编，电子邮箱，默认业务员，应付额度)
- 刺激：进货销售人员选择修改选定的客户信息
- 响应：系统显示修改界面(可修改内容同新增客户界面)
- 刺激：进货销售人员输入客户信息并选择保存
- 响应：系统检查输入合法后保存
- 刺激：进货销售人员输入非法时选择提交，参见[格式相关](#343-数据格式要求)
- 响应：系统返回“非法输入”并返回编辑界面
- 刺激：进货销售人员选择返回
- 响应：系统离开客户管理界面退回上级界面
- 刺激：进货销售人员提交成功
- 响应：系统更新信息并显示更新后的信息
- 刺激：进货销售人员选中要删除的对象执行删除
- 响应：系统返回“是否确认删除”
- 刺激：进货销售人员选择确认删除选项
- 响应：系统更新信息并显示更新后的信息
- 刺激：进货销售人员选择删除不可删除的客户
- 响应：系统返回“不可删除”

##### 3.2.6.3 相关功能需求

###### ClientManagement.Search
- ClientManagement.Search.ShowList
    - 系统显示客户信息列表
- ClientManagement.Search.KeyWord
    - 系统根据关键字搜素对应客户信息
- ClientManagement.Search.ShowClient
    - 在进货销售人员关键字搜索后系统显示对应客户信息，参见[格式相关](#343-数据格式要求)

###### ClientManagement.Add
- ClientManagement.Add.Save
    - 当用户确认增加客户信息时，系统开始准备保存客户信息，参见ClientManagement.Save
- ClientManagement.Add.Cancel
    - 用户取消增加客户信息的操作，参见ClientManagement.Close

###### ClientManagement.Delete
- ClientManagement.Delete.Judge
    - 用户选择删除选项，系统判断是否能删除
- ClientManagement.Delete.Valid
    - 客户与系统没有多余交互时允许删除
- ClientManagement.Delete.InValid
    - 客户与系统产生交互后不允许删除，系统返回不可删除的提示

###### ClientManagement.Edit
- ClientManagement.Edit.Save
    - 当用户确认修改客户信息时，系统开始准备保存客户信息，参见ClientManagement.Save
- ClientManagement.Edit.Cancel
    - 用户取消增加客户信息的操作，参见ClientManagement.Close

###### ClientManagement.Save
- ClientManagement.Save
    - 系统允许进货销售人员保存客户信息
- ClientManagement.Save.Check
    - 用户确认保存时，系统检查是否有重名和非法输入

###### ClientManagement.Close
- ClientManagement.Close.Back
    - 当进货销售人员确认关闭时，系统返回系统上层界面
- ClientManagement.Close.Back.Cancel
    - 当进货销售人员取消关闭时，系统保持不变

#### 3.2.7 制定进货单

##### 3.2.7.1 特性描述
在经过验证的进货销售人员进货需要制定进货单时，系统提供对应模板等待输入保存，并允许保存草稿

优先级=高

##### 3.2.7.2 刺激/响应序列
- 刺激：进货销售人员选择新建进货单
- 响应：系统返回新建进货单模板，参见[内容相关](#343-数据格式要求)
- 刺激：进货销售人员选择填写进货单草稿
- 响应：系统返回系统持有的进货单草稿，若系统未持有草稿，则返回新建进货单模板
- 刺激：进货销售人员选择保存进货单
- 响应：系统检查进货单输入若合法则保存为草稿
- 刺激：进货销售人员提交进货单
- 响应：系统检查进货单输入及是否完成符合条件后提交单据
- 刺激：用户输入不符合规范，参见[格式相关](#343-数据格式要求)
- 响应：系统在不符合规范处提示错误
- 刺激：用户未填写完整单据便选择提交
- 响应：系统在未填写处提示未填写
- 刺激：用户选择提交前退出系统
- 响应：系统返回“保存/不保存/取消”
- 刺激：用户选择保存
- 响应：系统保存草稿并返回上一级界面
- 刺激：用户选择不保存
- 响应：系统不作任何修改并返回上一级界面
- 刺激：用户选择取消
- 响应：系统不退出并返回编辑界面

##### 3.2.7.3 相关功能需求

###### Purchase.Initiate
- Purchase.Initiate
    - 当客户选择制定进货单时，系统初始化进货单
- Purchase.Initiate.new
    - 当用户选择打开进货单草稿时，若无未编辑草稿，系统返回初始化进货单
- Purchase.Initiate.Draft
    - 当用户选择打开进货单草稿时，若存在未编辑草稿，系统返回原进货单草稿
- Purchase.Initiate.Draft.new
    - 当用户在有草稿的状态下选择新建进货单，系统将草稿删除，返回初始化进货单

###### Purchase.Save
- Purchase.Save
    - 系统允许进货销售人员保存进货单
- Purchase.Save.Check
    - 当进货销售人员选择保存进货单时，系统检查是否存在非法输入
- Purchase.Save.Invalid
    - 当进货单存在非法输入时，系统拒绝保存并提示修改
- Purchase.Save.Confirm
    - 当进货销售人员确认保存进货单时，系统保存进货单
- Purchase.Save.Cancel
    - 当进货销售人员取消保存时，系统不保存进货单

###### Purchase.Submit
- Purchase.Submit
    - 系统允许进货销售人员提交进货单
- Purchase.Submit.Check
    - 当进货销售人员确认提交时，系统检查进货单是否完成
- Purchase.Submit.Complete
    - 当进货单已完成时，系统提交进货单
- Purchase.Submit.Incomplete
    - 当进货单未完成时，系统提示未完成并拒绝提交
- Purchase.Submit.Invalid
    - 当进货单有非法输入时，系统拒绝提交并提示修改
- Purchase.Submit.Cancel
    - 当进货销售人员取消提交时，系统不提交进货单

###### Purchase.Close
- Purchase.Close.Tip
    - 当进货销售人员选择退出时，系统提示是否保存现有进货单
- Purchase.Close.Back.Save
    - 当进货销售人员确认退出并确定保存时，系统保存进货单并返回上级界面
- Purchase.Close.Back.NotSave
    - 当进货销售人员确认退出并不保存时，系统直接返回上级界面
- Purchase.Close.Back.Cancel
    - 当进货销售人员取消退出时，系统保持不变

#### 3.2.8 制定销售单

##### 3.2.8.1 特性描述
在经过验证的进货销售人员进货需要制定销售单时，系统提供对应模板等待输入保存，并允许保存草稿

优先级=高

##### 3.2.8.2 刺激/响应序列
- 刺激：进货销售人员选择新建销售单
- 响应：系统返回新建进货单模板，参见[内容相关](#343-数据格式要求)
- 刺激：进货销售人员选择填写销售单草稿
- 响应：系统返回系统持有的销售单草稿，若系统未持有草稿，则返回新建销售单模板
- 刺激：进货销售人员选择保存销售单
- 响应：系统检查销售单输入若合法则保存为草稿
- 刺激：进货销售人员提交销售单
- 响应：系统检查销售单输入及是否完成符合条件后提交单据
- 刺激：用户输入不符合规范，参见[格式相关](#343-数据格式要求)
- 响应：系统在不符合规范处提示错误
- 刺激：用户未填写完整单据便选择提交
- 响应：系统在未填写处提示未填写
- 刺激：用户选择提交前退出系统
- 响应：系统返回“保存/不保存/取消”
- 刺激：用户选择保存
- 响应：系统保存草稿并返回上一级界面
- 刺激：用户选择不保存
- 响应：系统不作任何修改并返回上一级界面
- 刺激：用户选择取消
- 响应：系统不退出并返回编辑界面

##### 3.2.8.3 相关功能需求

###### Sale.Initiate
- Sale.Initiate
    - 当客户选择制定销售单时，系统初始化销售单
- Sale.Initiate.new
    - 当用户选择打开销售单草稿时，若无未编辑草稿，系统返回初始化销售单
- Sale.Initiate.Draft
    - 当用户选择打开销售单草稿时，若存在未编辑草稿，系统返回原销售单草稿
- Sale.Initiate.Draft.new
    - 当用户在有草稿的状态下选择新建销售单，系统将草稿删除，返回初始化销售单

###### Sale.Save
- Sale.Save
    - 系统允许进货销售人员保存销售单
- Sale.Save.Check
    - 当进货销售人员选择保存销售单时，系统检查是否存在非法输入
- Sale.Save.Invalid
    - 当销售单存在非法输入时，系统拒绝保存并提示修改
- Sale.Save.Confirm
    - 当进货销售人员确认保存销售单时，系统保存销售单
- Sale.Save.Cancel
    - 当进货销售人员取消保存时，系统不保存销售单

###### Sale.Submit
- Sale.Submit
    - 系统允许进货销售人员提交销售单
- Sale.Submit.Check
    - 当进货销售人员确认提交时，系统检查销售单是否完成
- Sale.Submit.Complete
    - 当销售单已完成时，系统提交销售单
- Sale.Submit.Incomplete
    - 当销售单未完成时，系统提示未完成并拒绝提交
- Sale.Submit.Invalid
    - 当销售单有非法输入时，系统拒绝提交并提示修改
- Sale.Submit.Cancel
    - 当进货销售人员取消提交时，系统不提交销售单

###### Sale.Close
- Sale.Close.Tip
    - 当进货销售人员选择退出时，系统提示是否保存现有销售单
- Sale.Close.Back.Save
    - 当进货销售人员确认退出并确定保存时，系统保存销售单并返回上级界面
- Sale.Close.Back.NotSave
    - 当进货销售人员确认退出并不保存时，系统直接返回上级界面
- Sale.Close.Back.Cancel
    - 当进货销售人员取消退出时，系统保持不变

#### 3.2.9 制定进货退货单

##### 3.2.9.1 特性描述
在经过验证的进货销售人员进货需要制定进货退货单时，系统提供对应模板等待输入保存，并允许保存草稿

优先级=高

##### 3.2.9.2 刺激/响应序列
- 刺激：进货销售人员选择新建进货退货单
- 响应：系统返回新建进货退货单模板，参见[内容相关](#343-数据格式要求)
- 刺激：进货销售人员选择填写进货退货单草稿
- 响应：系统返回系统持有的进货退货单草稿，若系统未持有草稿，则返回新建进货退货单模板
- 刺激：进货销售人员选择保存进货退货单
- 响应：系统检查进货退货单输入若合法则保存为草稿
- 刺激：进货销售人员提交进货退货单
- 响应：系统检查进货退货单输入及是否完成符合条件后提交单据
- 刺激：用户输入不符合规范，参见[格式相关](#343-数据格式要求)
- 响应：系统在不符合规范处提示错误
- 刺激：用户未填写完整单据便选择提交
- 响应：系统在未填写处提示未填写
- 刺激：用户选择提交前退出系统
- 响应：系统返回“保存/不保存/取消”
- 刺激：用户选择保存
- 响应：系统保存草稿并返回上一级界面
- 刺激：用户选择不保存
- 响应：系统不作任何修改并返回上一级界面
- 刺激：用户选择取消
- 响应：系统不退出并返回编辑界面

##### 3.2.9.3 相关功能需求

###### PurchaseReturn.Initiate
- PurchaseReturn.Initiate
    - 当客户选择制定进货退货单时，系统初始化进货退货单
- PurchaseReturn.Initiate.new
    - 当用户选择打开进货退货单草稿时，若无未编辑草稿，系统返回初始化进货退货单
- PurchaseReturn.Initiate.Draft
    - 当用户选择打开进货退货单草稿时，若存在未编辑草稿，系统返回原进货退货单草稿
- PurchaseReturn.Initiate.Draft.new
    - 当用户在有草稿的状态下选择新建进货退货单，系统将草稿删除，返回初始化进货退货单

###### PurchaseReturn.Save
- PurchaseReturn.Save
    - 系统允许进货销售人员保存进货退货单
- PurchaseReturn.Save.Check
    - 当进货销售人员选择保存进货退货单时，系统检查是否存在非法输入
- PurchaseReturn.Save.Invalid
    - 当进货退货单存在非法输入时，系统拒绝保存并提示修改
- PurchaseReturn.Save.Confirm
    - 当进货销售人员确认保存进货退货单时，系统保存进货退货单
- PurchaseReturn.Save.Cancel
    - 当进货销售人员取消保存时，系统不保存进货退货单

###### PurchaseReturn.Submit
- PurchaseReturn.Submit
    - 系统允许进货销售人员提交进货退货单
- PurchaseReturn.Submit.Check
    - 当进货销售人员确认提交时，系统检查进货退货单是否完成
- PurchaseReturn.Submit.Complete
    - 当进货退货单已完成时，系统提交进货退货单
- PurchaseReturn.Submit.Incomplete
    - 当进货退货单未完成时，系统提示未完成并拒绝提交
- PurchaseReturn.Submit.Invalid
    - 当进货退货单有非法输入时，系统拒绝提交并提示修改
- PurchaseReturn.Submit.Cancel
    - 当进货销售人员取消提交时，系统不提交进货退货单

###### PurchaseReturn.Close
- PurchaseReturn.Close.Tip
    - 当进货销售人员选择退出时，系统提示是否保存现有进货退货单
- PurchaseReturn.Close.Back.Save
    - 当进货销售人员确认退出并确定保存时，系统保存进货退货单并返回上级界面
- PurchaseReturn.Close.Back.NotSave
    - 当进货销售人员确认退出并不保存时，系统直接返回上级界面
- PurchaseReturn.Close.Back.Cancel
    - 当进货销售人员取消退出时，系统保持不变

#### 3.2.10 制定销售退货单

##### 3.2.10.1 特性描述
在经过验证的进货销售人员进货需要制定销售退货单时，系统提供对应模板等待输入保存，并允许保存草稿

优先级=高

##### 3.2.10.2 刺激/响应序列
- 刺激：进货销售人员选择新建销售退货单
- 响应：系统返回新建销售退货单模板，参见[内容相关](#343-数据格式要求)
- 刺激：进货销售人员选择填写销售退货单草稿
- 响应：系统返回系统持有的销售退货单草稿，若系统未持有草稿，则返回新建销售退货单模板
- 刺激：进货销售人员选择保存销售退货单
- 响应：系统检查销售退货单输入若合法则保存为草稿
- 刺激：进货销售人员提交销售退货单
- 响应：系统检查销售退货单输入及是否完成符合条件后提交单据
- 刺激：用户输入不符合规范，参见[格式相关](#343-数据格式要求)
- 响应：系统在不符合规范处提示错误
- 刺激：用户未填写完整单据便选择提交
- 响应：系统在未填写处提示未填写
- 刺激：用户选择提交前退出系统
- 响应：系统返回“保存/不保存/取消”
- 刺激：用户选择保存
- 响应：系统保存草稿并返回上一级界面
- 刺激：用户选择不保存
- 响应：系统不作任何修改并返回上一级界面
- 刺激：用户选择取消
- 响应：系统不退出并返回编辑界面

##### 3.2.10.3 相关功能需求

###### SaleReturn.Initiate
- SaleReturn.Initiate
    - 当客户选择制定销售退货单时，系统初始化销售退货单
- SaleReturn.Initiate.new
    - 当用户选择打开销售退货单草稿时，若无未编辑草稿，系统返回初始化销售退货单
- SaleReturn.Initiate.Draft
    - 当用户选择打开销售退货单草稿时，若存在未编辑草稿，系统返回原销售退货单草稿
- SaleReturn.Initiate.Draft.new
    - 当用户在有草稿的状态下选择新建销售退货单，系统将草稿删除，返回初始化销售退货单

###### SaleReturn.Save
- SaleReturn.Save
    - 系统允许进货销售人员保存销售退货单
- SaleReturn.Save.Check
    - 当进货销售人员选择保存销售退货单时，系统检查是否存在非法输入
- SaleReturn.Save.Invalid
    - 当销售退货单存在非法输入时，系统拒绝保存并提示修改
- SaleReturn.Save.Confirm
    - 当进货销售人员确认保存销售退货单时，系统保存销售退货单
- SaleReturn.Save.Cancel
    - 当进货销售人员取消保存时，系统不保存销售退货单

###### SaleReturn.Submit
- SaleReturn.Submit
    - 系统允许进货销售人员提交销售退货单
- SaleReturn.Submit.Check
    - 当进货销售人员确认提交时，系统检查销售退货单是否完成
- SaleReturn.Submit.Complete
    - 当销售退货单已完成时，系统提交销售退货单
- SaleReturn.Submit.Incomplete
    - 当销售退货单未完成时，系统提示未完成并拒绝提交
- SaleReturn.Submit.Invalid
    - 当销售退货单有非法输入时，系统拒绝提交并提示修改
- SaleReturn.Submit.Cancel
    - 当进货销售人员取消提交时，系统不提交销售退货单

###### SaleReturn.Close
- SaleReturn.Close.Tip
    - 当进货销售人员选择退出时，系统提示是否保存现有销售退货单
- SaleReturn.Close.Back.Save
    - 当进货销售人员确认退出并确定保存时，系统保存销售退货单并返回上级界面
- SaleReturn.Close.Back.NotSave
    - 当进货销售人员确认退出并不保存时，系统直接返回上级界面
- SaleReturn.Close.Back.Cancel
    - 当进货销售人员取消退出时，系统保持不变

---

#### 3.2.11 付款单

##### 3.2.11.1 特征描述

- 在公司需要支付客户一部分款项时，一位经过验证的用户可以创建一个包括单据编号、客户、操作员、转账列表、总额汇总的付款单，来申请付款。

- 优先级=高

##### 3.2.11.2 刺激/响应序列

- 刺激：用户选择创建付款单
- 响应：系统自动生成表单，表单内容参见 [内容相关](#343-数据格式要求)
- 刺激：用户选择打开付款单草稿
- 响应：系统打开已保存的付款单草稿
- 刺激：用户选择添加目标客户选项
- 响应：系统显示可选客户列表供用户选择
- 刺激：用户在客户列表中选择特定客户
- 响应：系统将已选客户添加到表单
- 刺激：用户选择增加一条转账列表，列表内容参照 [内容相关](#343-数据格式要求)
- 响应：系统显示一条新增的转账列表信息并根据用户所填金额计算出总额汇总
- 刺激：用户选择提交前退出系统
- 响应：系统返回“保存/不保存/取消”
- 刺激：用户选择保存
- 响应：系统保存草稿并返回上一级界面
- 刺激：用户选择不保存
- 响应：系统不作任何修改并返回上一级界面
- 刺激：用户选择取消
- 响应：系统不退出并返回编辑界面
- 刺激：用户填写信息不完整时选择提交
- 响应：系统不允许提交
- 刺激：用户输入非法字符时提交
- 响应：系统返回“非法输入”并返回编辑界面
- 刺激：用户提交成功
- 响应：系统更新信息并返回更新后信息，返回上一级界面

##### 3.2.11.2 相关功能需求

###### Payment.Input
- Payment.Input.Create
    - 在用户创建一个付款单时，系统创建一个付款单，参见Payment.Create
- Payment.Input.Client 
    - 在用户选择特定客户时，系统要标记客户，参见Payment.Client
- Payment.Input.TransferList
    - 在财务人选择银行账户时，系统要标记银行账户，参见Payment.TransferList
- Payment.Input.Sum
    - 在用户填写转账金额时，系统计算转账总额，参见Payment.Sum
- Payment.Input.Submit
    - 在用户选择提交表单选项时，系统判断是否允许提交，参见Payment.Submit
- Payment.Input.End
    - 在用户结束操作并返回上一级界面时，系统返回“保存/不保存/取消”，参见Payment.End

###### Payment.Create
- Payment.Create.New
    - 用户选择新建付款单选项时，系统新建一个付款单，格式参照 [内容相关](#343-数据格式要求)
- Payment.Create.Draft
    - 用户选择打开付款单草稿时，系统打开付款单草稿，格式参照 [内容相关](#343-数据格式要求)

###### Payment.Client
- Payment.Client.List
    - 在用户选择客户选单时，系统返回客户列表
- Payment.Client.Selected
    - 在用户选择特定客户时，系统将客户名添加到列表中

###### Payment.TransferList
- Payment.TransferList.Account
    - 在用户在转账列表里输入银行账户时，系统提供账户列表帮助选择，转账列表内容参照 [内容相关](#343-数据格式要求)
- Payment.TransferList.Money
    - 在用户输入金额时，系统检测用户输入的金额是否符合规范，格式参见 [格式相关](#343-数据格式要求)
- Payment.TransferList.Money.Invaid
    - 在用户输入金额格式与格式 [格式相关](#343-数据格式要求) 不符时，系统不允许提交

###### Payment.Sum
- Payment.Sum
    - 在用户填写转账金额时，系统通过用户输入的转账金额列表计算出总额


###### Payment.Submit
- Payment.Submission.Allowed
    - 在用户填写完全符合规范的情况下提交，系统允许用户进行提交，并提示提交成功,参见Payment.Submission.NotAllowed
- Payment.Submission.NotAllowed.Missing
    - 在用户填写内容不完整时提交，系统不予提交
- Payment.Submission.NotAllowed.Format
    - 在用户输入转账金额时不符合格式 [格式相关](#343-数据格式要求) 时，系统禁止用户提交

###### Payment.End
- Payment.End
    - 在用户成功提交并选择退出后，系统返回前一个界面
- Payment.End.Save
    - 在用户编辑过程中退出并选择保存后，系统保存用户所填内容为草稿
- Payment.End.NotSave
    - 在用户编辑过程中退出并选择不保存后，系统不保存用户所填内容并返回上一个界面


#### 3.2.12 收款单

##### 3.2.12.1 特征描述
- 在公司需要接收客户一部分款项时，一位经过验证的用户可以创建一个包括单据编号、客户、操作员、转账列表、总额汇总的收款单，来申请收款。

##### 3.2.12.2 刺激/响应序列
- 刺激：用户选择创建收款单
- 响应：系统自动生成表单，表单内容参见 [内容相关](#343-数据格式要求)
- 刺激：用户选择打开收款单草稿
- 响应：系统打开已保存的收款单草稿
- 刺激：用户选择添加目标客户选项
- 响应：系统显示可选客户列表供用户选择
- 刺激：用户在客户列表中选择特定客户
- 响应：系统将已选客户添加到表单
- 刺激：用户选择增加一条转账列表，列表内容参照 [内容相关](#343-数据格式要求)
- 响应：系统显示一条新增的转账列表信息并根据用户所填金额计算出总额汇总
- 刺激：用户选择提交前退出系统
- 响应：系统返回“保存/不保存/取消”
- 刺激：用户选择保存
- 响应：系统保存草稿并返回上一级界面
- 刺激：用户选择不保存
- 响应：系统不作任何修改并返回上一级界面
- 刺激：用户选择取消
- 响应：系统不退出并返回编辑界面
- 刺激：用户填写信息不完整时选择提交
- 响应：系统不允许提交
- 刺激：用户输入非法字符时提交
- 响应：系统返回“非法输入”并返回编辑界面
- 刺激：用户提交成功
- 响应：系统更新信息并返回更新后信息，返回上一级界面

##### 3.2.12.2 相关功能需求

###### Collection.Input
- Collection.Input.Create
    - 在用户创建一个付款单时，系统创建一个付款单，参见Collection.Create
- Collection.Input.Client 
    - 在用户选择特定客户时，系统要标记客户，参见Collection.Client
- Collection.Input.TransferList
    - 在财务人选择银行账户时，系统要标记银行账户，参见Collection.TransferList
- Collection.Input.Sum
    - 在用户填写转账金额时，系统计算转账总额，参见Collection.Sum
- Collection.Input.Submit
    - 在用户选择提交表单选项时，系统判断是否允许提交，参见Collection.Submit
- Collection.Input.End
    - 在用户结束操作并返回上一级界面时，系统返回“保存/不保存/取消”，参见Collection.End

###### Collection.Create
- Collection.Create.New
    - 用户选择新建付款单选项时，系统新建一个付款单，格式参照 [内容相关](#343-数据格式要求)
- Collection.Create.Draft
    - 用户选择打开付款单草稿时，系统打开付款单草稿，格式参照 [内容相关](#343-数据格式要求)

###### Collection.Client
- Collection.Client.List
    - 在用户选择客户选单时，系统返回客户列表
- Collection.Client.Selected
    - 在用户选择特定客户时，系统将客户名添加到列表中

###### Collection.TransferList
- Collection.TransferList.Account
    - 在用户在转账列表里输入银行账户时，系统提供账户列表帮助选择，转账列表内容参照 [内容相关](#343-数据格式要求)
- Collection.TransferList.Money
    - 在用户输入金额时，系统检测用户输入的金额是否符合规范，格式参见 [格式相关](#343-数据格式要求)
- Collection.TransferList.Money.Invaid
    - 在用户输入金额格式与格式 [格式相关](#343-数据格式要求) 不符时，系统不提供提交选项

###### Collection.Sum
- Collection.Sum
    - 在用户填写转账金额并确认后，系统通过用户输入的转账金额列表计算出总额


###### Collection.Submit
- Collection.Submission.Allowed
    - 在用户填写完全符合规范的情况下提交，系统允许用户进行提交，并提示提交成功,参见Collection.Submission.NotAllowed
- Collection.Submission.NotAllowed.Missing
    - 在用户填写内容不完整时提交，系统不予提交
- Collection.Submission.NotAllowed.Format
    - 在用户输入转账金额时不符合格式 [格式相关](#343-数据格式要求) 时，系统禁止用户提交

###### Collection.End
- Collection.End
    - 在用户成功提交并选择退出后，系统返回前一个界面
- Collection.End.Save
    - 在用户编辑过程中退出并选择保存后，系统保存用户所填内容为草稿
- Collection.End.NotSave
    - 在用户编辑过程中退出并选择不保存后，系统不保存用户所填内容并返回上一个界面


#### 3.2.13 银行账户管理

##### 3.2.13.1 特征描述
- 在公司的银行账户需要进行修改时，一位经过验证并具有最高权限的用户可以查看公司银行账户的账户名、余额，并对账户进行增删改查的工作。

##### 3.2.13.2 刺激/响应序列
- 刺激：最高权限用户进入公司银行账户管理界面
- 响应：系统检查用户权限，允许访问，并显示默认排序的银行账户列表
- 刺激：普通用户进入公司银行账户管理界面
- 响应：系统检查用户权限，并不予访问
- 刺激：最高权限用户选择增加账户
- 响应：系统返回创建账户界面
- 刺激：最高权限用户提交成功
- 响应：系统更新信息并显示更新后的信息
- 刺激：最高权限用户在编辑银行账户界面输入账户格式错误并提交
- 响应：系统返回“非法输入”并返回编辑界面
- 刺激：最高权限用户在提交更改后的账户与数据库中已有账户重复
- 响应：系统返回“该账户名已经存在”并返回编辑界面
- 刺激：最高权限用户选择查询账户，并输入模糊关键字
- 响应：系统模糊搜索后返回筛选后的账户列表
- 刺激：最高权限用户选择一个银行账户并选择修改账户
- 响应：系统返回修改界面


##### 3.2.13.3 相关功能需求

###### AccountManagement.Visit
- AccountManagement.Visit.Valid
    - 在最高权限用户访问银行账户管理界面时，系统允许访问
- AccountManagement.Visit.Valid.AccountList
    - 在用户成功访问时，系统显示默认银行账户列表
- AccountManagement.Visit.Invalid
    - 不是最高权限的用户访问银行账户管理界面时，系统不予允许

###### AccountManagement.Create
- AccountManagement.Create.Valid
    - 在用户输入合法的银行账户时，系统创建新的银行账户并显示更新信息
- AccountManagement.Create.Invalid.Exist
    - 在用户输入的银行账户已经存在在银行账户列表里时，系统提示银行账户已经存在
- AccountManagement.Create.Invalid.Format
    - 在用户输入的银行账户格式不合法时，系统提示银行账户格式不合法，参见[格式相关](#343-数据格式要求)

###### AccountManagement.Search
- AccountManagement.Search.AccountList
    - 通过用户输入的关键字可以获得银行账户列表时，系统返回筛选后的银行账户列表

###### AccountManagement.Update
- AccountManagement.Update.Valid
    - 在用户输入合法的银行账户时，系统创建新的银行账户并显示更新信息
- AccountManagement.Update.Invalid.Exist
    - 在用户输入的银行账户已经存在在银行账户列表里时，系统提示银行账户已经存在
- AccountManagement.Update.Invalid.Format
    - 在用户输入的银行账户格式不合法时，系统提示银行账户格式不合法，参见[格式相关](#343-数据格式要求)


#### 3.2.14 制定现金费用单

##### 3.2.14.1 特征描述
- 在公司需要管理报销等现金操作时，一位经过验证的用户可以创建一个包括单据编号、操作员、银行账户、条目清单、总额的现金费用单，来完成报销。

##### 3.2.14.2 刺激/响应序列
- 刺激：用户选择创建现金费用单
- 响应：系统自动生成单据编号和操作员，并显示表单
- 刺激：用户选择银行账户选项
- 响应：系统显示可选银行账户供用户选择
- 刺激：用户选择特定银行账户
- 响应：系统将已选银行账户添加到表单
- 刺激：用户填写条目清单，参见[内容相关](#343-数据格式要求)
- 响应：系统显示一条新增条目清单并根据用户所填金额计算出总额汇总
- 刺激：用户选择提交前退出系统
- 响应：系统返回“保存/不保存/取消”
- 刺激：用户选择保存
- 响应：系统保存草稿并返回上一级界面
- 刺激：用户选择不保存
- 响应：系统不作任何修改并返回上一级界面
- 刺激：用户选择取消
- 响应：系统不退出并返回编辑界面
- 刺激：用户填写信息不完整时选择提交
- 响应：系统不允许提交
- 刺激：用户输入非法字符时提交
- 响应：系统返回“非法输入”并返回编辑界面
- 刺激：用户提交成功
- 响应：系统更新信息并返回更新后信息，返回上一级界面

##### 3.2.14.3 相关功能需求

###### Reimbursement.Account
- Reimbursement.Account
  - 系统允许用户通过银行账户列表的方式填写银行账户
- Reimbursement.Account.Selected
  - 在用户选择特定银行账户时，系统将银行账户添加到表单中

###### Reimbursement.List
- Reimbursement.List.Start
  - 在用户填写条目清单时，系统对条目清单格式进行审查，参见[格式相关](#343-数据格式要求)

###### Collection.Sum
- Reimbursement.Sum
  - 在用户填写金额并确认，系统通过用户输入的金额列表计算出总额

###### Reimbursement.Number
- Reimbursement.Number
  - 在用户创建现金费用单时，系统根据单据数量自动生成单据编号并显示在表单上，格式遵循[格式相关](#343-数据格式要求)

###### Reimbursement.Submit
- Reimbursement.Submission.Allowed
  - 在用户填写完全符合规范的情况下，系统允许用户进行提交
- Reimbursement.Submission.NotAllowed
  - 在用户填写不合规范时，系统不予提交

###### Reimbursement.End
- Reimbursement.End
  - 在用户成功提交并选择退出后，系统返回前一个界面
- Reimbursement.End.Save
  - 在用户编辑过程中退出并选择保存后，系统保存用户所填内容为草稿并返回上一个界面
- Reimbursement.End.NotSave
  - 在用户编辑过程中退出并选择不保存后，系统不保存用户所填内容并返回上一个界面

---

#### 3.2.15 查看经营历程表

##### 3.2.15.1 特性描述
系统支持用户查看经营历程表，并允许财务人员使用红冲

##### 3.2.15.2 刺激／响应序列
- 刺激：用户选择查看经营历程表
- 响应：系统返回具体表单分类，参见[内容相关](#343-数据格式要求)
- 刺激：用户输入筛选条件以查找某条单据，筛选条件参见[排序相关](#343-数据格式要求)
- 响应：系统返回符合要求的单据
- 刺激：总经理选择红冲(并复制)操作
- 响应：系统拒绝，并提示“权限不足”
- 刺激：财务人员对某单据选择红冲操作
- 响应：系统生效红冲单据并提示“操作成功”
- 刺激：财务人员对某单据选择红冲并复制
- 响应：系统生效红冲单据并将原单据复制一份返回给用户，此表格的数量处于可编辑状态


##### 3.2.15.3 相关功能需求

###### BrowseOperationRecord.Browse
- BrowseOperationRecord.Browse
  - 用户请求查看经营历程表，系统返回经营历程表，参见[内容相关](#343-数据格式要求)
- BrowseOperationRecord.Browse.Filter
  - 用户输入筛选条件，参见[排序相关](#343-数据格式要求)，系统返回筛选后条目
- BrowseOperationRecord.Browse.Export
  - 用户选择“导出”，系统将表格导出为excel表

  
##### BrowseOperationRecord.Redo
- BrowseOperationRecord.Redo
  - 用户请求进行红冲操作
- BrowseOperationRecord.Redo.Invalid
  - 非财务人员请求红冲操作，系统返回“权限不足”
- BrowseOperationRecord.Redo.Valid
  - 财务人员请求红冲操作，系统生效红冲单据(数据取反)并提示“操作成功”

  
##### BrowseOperationRecord.Redo&Duplicate
- BrowseOperationRecord.Redo&Duplicate
  - 用户请求进行红冲并复制操作
- BrowseOperationRecord.Redo&Duplicate.Invalid
  - 非财务人员请求红冲并复制操作，系统返回“权限不足”
- BrowseOperationRecord.Redo&Duplicate.Valid
  - 财务人员请求红冲操作，系统生效红冲单据(数据取反)并返回与原油单据相同的单据，仅有数量可编辑
- BrowseOperationRecord.Redo&Duplicate.Valid.Commit
  - 财务人员提交复制后的红冲单据，系统生效单据，并提示“操作成功”
- BrowseOperationRecord.Redo&Duplicate.Valid.Return
  - 财务人员未提交就退出，系统放弃此单据(之后不允许再编辑)

---

#### 3.2.16 查看经营状况表

##### 3.2.16.1 特性描述
系统允许用户查看经营状况表

##### 3.2.16.2 刺激／响应序列
- 刺激：用户选择查看经营状况表并提交时间区间
- 响应：系统计算结果并返回具体明细，参见[内容相关](#343-数据格式要求)
- 刺激：用户提交的时间非法
- 响应：系统返回“时间区间不正确”并停留在时间选择界面要求用户继续更改
- 刺激：用户选择导出经营状况表并提交时间区间
- 响应：系统导出excel表格
##### 3.2.16.3 相关功能需求

###### BrowseOperationCondition.Browse
- BrowseOperationCondition.Browse
  - 用户请求查看经营状况表，系统计算并返回经营状况表，参见[内容相关](#343-数据格式要求)
- BrowseOperationCondition.Browse.Filter
  - 用户输入筛选条件，参见[排序相关](#343-数据格式要求)，系统返回筛选后条目
- BrowseOperationCondition.Browse.Export
  - 用户选择“导出”，系统将表格导出为excel表


#### 3.2.17 查看销售明细表

##### 3.2.17.1 特性描述
系统允许用户查看销售明细表

##### 3.2.17.2 刺激／响应序列
- 刺激：用户选择查看销售明细表
- 响应：系统返回具体表单分类，参见[内容相关](#343-数据格式要求)
- 刺激：用户输入筛选条件以查找某条单据，参见[排序相关](#343-数据格式要求)
- 响应：系统返回符合要求的单据

##### 3.2.17.3 相关功能需求

###### BrowseSaleDetail.Browse
- BrowseSaleDetail.Browse
  - 用户请求查看销售明细表，系统返回销售明细表，参见[内容相关](#343-数据格式要求)
- BrowseSaleDetail.Browse.Filter
  - 用户输入筛选条件，参见[排序相关](#343-数据格式要求)，系统返回筛选后条目
- BrowseSaleDetail.Browse.Export
  - 用户选择“导出”，系统将表格导出为excel表


---

#### 3.2.18 期初建账

##### 3.2.18.1 特性描述
每个财年的开始，财务人员选择期初建账功能，系统将商品信息，客户信息和银行账户信息复制并单独储存起来，期初账目只能查看不能修改。

##### 3.2.18.2 刺激／响应序列
- 刺激：财务人员选择期初建账
- 响应：系统将现有商品信息 客户信息 银行账户信息三个表格复制一份，然后计算每一商品在过去一年的平均进价/售价，并以此填入期初信息，然后清空每一商品的“最近售价/进价”字段，完成后给出提示
- 刺激：财务人员选择查看已有账目信息
- 响应：系统返回已有账目列表
- 刺激：财务人员选择某一账目
- 响应：系统返回该账目具体类别，包括商品信息，客户信息和银行账户信息
- 刺激：财务人员选择某一类别
- 响应：系统返回这一类别的详细信息
- 刺激：财务人员输入一定的排序条件，参见[排序相关](#343-数据格式要求)
- 响应：系统返回排序后的数据
- 刺激：财务人员选择返回
- 响应：返回上一界面

##### 3.2.18.3 相关功能需求
###### AccountInitialization.Create
- AccountInitialization.Create.Success 
  - 用户请求期初建账时，系统完成建账动作，返回“成功”
- AccountInitialization.Create.Fail
  - 用户请求期初建账时，系统未完成建账动作，返回“建账失败，请稍后再试”
  
  

###### AccountInitialization.Browse
- AccountInitialization.Browse
  - 系统允许用户查看之前建立的所有期初账目
- AccountInitialization.Browse.Select
  - 用户选择某一个账目，系统返回该账目的子分类(包括商品信息，客户信息和银行账户信息)
- AccountInitialization.Browse.Commodity
  - 用户选择查看商品信息，系统返回商品信息，包括商品分类和商品信息列表。商品信息列表的每一条目参见[内容相关](#343-数据格式要求)
- AccountInitialization.Browse.Client
  - 用户选择查看客户信息，系统返回客户信息参见[内容相关](#343-数据格式要求)
- AccountInitialization.Browse.BankAccount
  - 用户选择查看银行账户信息，系统返回银行账户信息列表参见[内容相关](#343-数据格式要求)
- AccountInitialization.Browse.BankAccount.Invalid
  - 用户选择查看银行账户信息，如果不是最高权限，系统返回“权限不足”
  

###### AccountInitialization.Sort
- AccountInitialization.Sort
  - 系统允许用户对某一表格进行排序
- AccountInitialization.Sort.Commodity
  - 用户选择对商品信息进行排序，可排序字段参见[排序相关](#343-数据格式要求)
- AccountInitialization.Sort.Client
  - 用户选择对客户信息进行排序，可排序字段参见[排序相关](#343-数据格式要求)
- AccountInitialization.Sort.BankAccount
  - 用户选择对银行账户进行排序，可排序字段参见[排序相关](#343-数据格式要求)
- AccountInitialization.Sort.BankAccount.Invalid
  - 参见AccountInitialization.Browse.BankAccount.Invalid
  
  

###### AccountInitialization.Return
- AccountInitialization.Return  
  - 用户选择返回，系统返回上一界面

---

#### 3.2.19 审批单据


##### 3.2.19.1 特性描述
系统允许总经理审批单据或修改提交状态的单据，并且系统支持总经理批量审批单据。
##### 3.2.19.2 刺激／响应序列
- 刺激：总经理选择审批单据
- 响应：系统返回所有单据，参见[分类相关](#343-数据格式要求)
- 刺激：总经理选择某一单据
- 响应：系统将此单据标为显示状态
- 刺激：总经理选择查看某一单据详情
- 响应：系统返回单据所有字段参见[内容相关](#343-数据格式要求)和单据提交时间
- 刺激：总经理选择审批(不)通过
- 响应：系统将单据状态改为“已审批(未)通过”并返回“操作成功”
- 刺激：总经理选择修改某一单据
- 响应：系统返回此单据所有字段参见[内容相关](#343-数据格式要求)
- 刺激：总经理提交对某一单据的修改
- 响应：系统对单据内容进行检查，如果有不合法字段则提示“输入内容不合法”；如果输入内容合法则将原始单据和修改后单据分别保存，并提示“修改成功，已通过此单据”
- 刺激：总经理选择暂存某一修改后单据
- 响应：系统将草稿和原始单据分别保存，并提示“已暂存修改后单据”
- 刺激：总经理选择返回
- 响应：系统返回上一界面

##### 3.2.19.3 相关功能需求
###### JudgeReceipt.Browse
- JudgeReceipt.Browse 
  - 用户选择审批单据，系统返回所有单据列表
  
  

###### JudgeReceipt.Select 
- JudgeReceipt.Select
  - 用户选择某一单据，系统将此单据标记为已选中
  

###### JudgeReceipt.Judge
- JudgeReceipt.Judge
  - 系统支持用户审批单据
- JudgeReceipt.Judge.Valid
  - 用户通过审批某一单据，系统返回“已通过(不通过)单据”并改变此单据状态为“已通过(未通过)”，并使此单据对系统造成的影响生效
- JudgeReceipt.Judge.Invalid
  - 用户通过审批某一不处于提交状态的单据，系统返回“失败！此单据不处于提交状态”
  

###### JudgeReceipt.Modify
- JudgeReceipt.Modify
  - 用户选择修改某一单据，系统返回此单据所有字段并处于可编辑状态
- JudgeReceipt.Modify.Draft
  - 用户选择暂存某一单据，系统保存此单据原始内容和修改后内容，不改变此单据状态，并提示“已保存”，然后返回上一界面
- JudgeReceipt.Modify.Submit.Valid
  - 用户选择提交对某一单据的修改，系统进行输入检查，通过后保存原始内容和修改后内容，改变单据状态为“通过”，并提示“已通过单据”
- JudgeReceipt.Modify.Invalid
  - 用户选择提交对某一单据的修改，系统进行输入检查，提示”不合法的输入“，并要求用户继续编辑
- JudgeReceipt.Modify.Return
  - 用户选择返回上一界面，系统提示“是否保存修改内容”
- JudgeReceipt.Modify.Return.Force
  - 用户选择不保存，系统放弃此次更改，返回上一界面，不留下任何记录
- JudgeReceipt.Modify.Return.Save
  - 用户选择保存，系统保存此次更改，返回上一界面，参见JudgeReceipt.Modify.Draft

  
---

#### 3.2.20 制定销售策略

##### 3.2.20.1特性描述
系统允许总经理指定促销策略

##### 3.2.20.2 刺激／响应序列
- 刺激：用户选择制定促销策略
- 响应：系统返回促销类型，参见[内容相关](#343-数据格式要求)
- 刺激：用户选择创建VIP优惠／组合降价／满减优惠
- 响应：系统返回优惠详情，参见[内容相关](#343-数据格式要求)
- 刺激：用户选择的生效时间早于现在
- 响应：系统提示“开始时间不合法“
- 刺激：用户提交合法的生效时间和持续时间
- 响应：系统将优惠政策生效，并提示“操作成功”
- 刺激：用户选择暂存草稿
- 响应：系统保存草稿
- 刺激：用户未保存就退出
- 响应：系统提示用户是否保存
- 刺激：用户选择不保存并退出
- 响应：系统放弃更改并返回上一页
- 刺激：用户选择保存并退出
- 响应：系统保存更改为草稿并退出

##### 3.2.20.3 相关功能需求

###### Promotion.Create
- Promotion.Create.New
  - 用户选择创建某种类型的优惠，系统返回模板，参见[内容相关](#343-数据格式要求)
- Promotion.Create.Draft
  - 如果系统中有用户上次保存的草稿，系统默认打开草稿
- Promotion.Create.Draft.New
  - 如果用户在有草稿的情况下要求新建项目，系统删除草稿并新建，参见Promotion.Create.New


###### Promotion.Draft
- Promotion.Draft.Save
  - 用户选择暂存草稿后，系统储存用户编辑的内容但不生效策略
  
  

###### Promotion.Submit
- Promotion.Submit.Valid
  - 用户提交策略，如果输入信息合法，则生效此策略
- Promotion.Submit.Invalid
  - 用户提交策略，如果输入信息不合法，则拒绝提交，并要求用户继续更改
  

###### Promotion.Return
- Promotion.Return.Tips
  - 用户未保存更改时请求返回，系统提示是否保存更改
- Promotion.Return.Save
  - 用户选择保存并退出，参见Promotion.Draft.Save
- Promotion.Return.Cancel
  - 用户选择不保存并退出，系统返回上一页，同时放弃此次所有更改
  
---

#### 3.2.21 消息查看
##### 3.2.21.1 特征描述
- 库存管理人员、进货销售人员、财务人员、总经理，目的是为了查看各种单据评审结果，代办事项和库存报警单
##### 3.2.21.2 刺激响应序列
- 刺激：用户选择消息查看选项
- 响应：系统显示只有该用户可见的消息列表
- 刺激：用户查看一条消息
- 响应：系统返回消息内容并将消息状态标注为已读
##### 3.2.21.3 相关功能需求
- Notify.Delete
    - 系统定时自动删除


---
#### 3.2.22 管理员管理账号
##### 3.2.22.1 特征描述
- 管理员对各类账号的账号、密码、权限进行管理
##### 3.2.22.2 刺激响应序列
- 刺激：管理员选择创建或修改账号选项
- 响应：系统返回信息填写表格，参见[内容相关](#343-数据格式要求)
- 刺激：管理员编辑信息后提交，提交成功
- 响应：系统更新信息显示更新后信息并返回上一级界面
- 刺激：管理员选择查看账号
- 响应：系统返回账号列表，包括账号的名称、类型、权限(默认按照类型排序)
- 刺激：管理员通过账号名、账号类型、账号权限查询账号
- 响应：系统返回符合筛选条件的账号的名称、类型、权限
- 刺激：用户选择提交前退出系统
- 响应：系统返回“退出/取消”
- 刺激：用户选择“退出”
- 响应：系统不作任何修改并返回上一级界面
- 刺激：用户选择“取消”
- 响应：系统不退出并返回编辑界面
- 刺激：用户输入不合规范的数据并提交，参见[格式相关](#343-数据格式要求)
- 响应：系统不允许提交
- 刺激：用户选择提交后检测出重名
- 响应：系统返回“名称重复”并返回编辑界面
- 刺激：用户选择返回上一级界面
- 响应：系统返回上一级界面
##### 3.2.22.3 相关功能需求
###### UserManagement.Input
- UserManagement.Input.Keyboard
    - 系统允许用户用键盘与鼠标进行输入
- UserManagement.Input.Add
    - 用户选择增加账号，参见UserManagement.Add
- UserManagement.Input.Modify
    - 用户选择修改账号，参见UserManagement.Modify
- UserManagement.Input.Find
    - 用户选择查看账号，参见UserManagement.Find
- UserManagement.Input.Invalid
    - 系统能够检测用户的非法输入，参见[格式相关](#343-数据格式要求)


###### UserManagement.Cancel
- UserManagement.Cancel.Confirm
    - 用户选择提交选项之前退出系统，系统返回“退出/取消”，用户选择“退出”，系统不作任何修改并返回上一级界面
- UserManagement.Cancel.Cancel    
    - 用户选择提交选项之前退出系统，系统返回“退出/取消”，用户选择“取消”，系统不退出并返回编辑界面


###### UserManagement.Submit
- UserManagement.Submit.NotAllowed
    - 存在非法输入，参见[格式相关](#343-数据格式要求)系统不允许用户进行提交
- UserManagement.Submit.Allowed
    - 信息完整且没有非法输入时用户选择提交，系统进入重名检测，参见UserManagement.Submit.Duplicate
- UserManagement.Submit.Missing
    - 必填或必选项目信息缺失时用户选择提交，系统不允许提交
- UserManagement.Submit.Duplicate
    - 提交后进行重名检测，检测存在重名，用户提交失败，系统返回“账号名重复”并返回编辑界面，不存在时用户提交成功


###### UserManagement.Add
- UserManagement.Add.Cancel
    - 中途退出，参见UserManagement.Cancel
- UserManagement.Add.Duplicate
    - 系统不允许有重复名称出现，提交时检查持久化保存的信息，参见UserManagement.Submit.Duplicate
- UserManagement.Add.Submit
    - 提交信息，参见UserManagement.Submit
- UserManagement.Add.End
    - 系统增加账号信息，显示更新后信息并返回上一级界面


###### UserManagement.Modify
- UserManagement.Modify.Cancel
    - 中途退出，参见UserManagement.Add.Cancel
- UserManagement.Modify.Duplicate
    - 名称要检查重名，参见UserManagement.Add.Duplicate
- UserManagement.Modify.Submit
    - 提交修改信息，参考UserManagement.Add.Submit
- UserManagement.Modify.End
    - 系统修改账号信息，显示更新后信息并返回上一级界面


###### UserManagement.Find
- UserManagement.Find.Show
    - 用户通过选择查看功能查找或筛选查找时，系统返回符合筛选条件的账号的名称、类型、权限
- UserManagement.Find.Filter
    - 系统允许根据通过账号名、账号类型、账号权限或直接查看账号查找账号
- UserManagement.Find.Return
    - 用户选择返回上一级界面，系统返回上一级界面

### 3.3 非功能需求

#### 3.3.1 安全性
- Safety1：系统应该只允许经过验证和授权的用户访问
- Safety2：系统应按照用户身份验证权限
- Safety3：系统中有一个默认的管理员账号，该账号只允许管理员用户修改口令


#### 3.3.2 可维护性
- Modifiability1：当系统需要修改商品的属性类别时，应能在3人日内完成
- Modifiability2：当系统需要更改进货销售类单据模板时，应能在3人日内完成
- Modifiability3：当系统需要维护数据库时，应能在4人周完成

#### 3.3.3 易用性
- Usability1：在使用系统1个月后，进货销售人员填写进货销售类单据应能达到1小时/单
- Usability2：在使用系统1个月后，库存人员能在10分钟内完成库存查看或盘点
- Usability3：在使用系统1个月后，库存人员填写库存单据应能达到1小时/单
- Usability4：在使用系统1个月后，财务人员填写财务报表应能达到1小时/单
- Usability5：在使用系统1个月后，总经理审批单据效率能达到10分钟/单
- Usability6：在使用系统1个月后，总经理能在一周内完成制定一个销售策略

#### 3.3.4 可靠性

- Reliability1：在数据库出现故障时，数据库中的信息不能丢失
    - Reliability1.1：系统应能定期备份数据库信息
        - Reliability1.1.1：当主数据库故障时，系统自动调用备份数据库
        - Reliability1.1.2：主数据库故障后，客户可以选择启用备份数据库
    - Reliability1.2：系统数据库的存储空间应足够
        - Reliability1.2.1：若数据库空间超过警戒，系统发出提示
- Reliability2：当客户端尝试读取数据库时，如果连接数据库失败，系统不能出现故障
    - Reliability2.1：客户端检测到无法读取时，应重新提出访问数据库的请求，在未成功时至少提出3次，每次间隔5秒
        - Reliability2.1.1：若重新读取成功，系统继续进行工作
        - Reliability2.1.2：若重新读取仍失败，系统应提示读取数据库失败，是否再次读取
            - Reliability2.1.1.1：若再次读取成功，系统继续进行工作
            - Reliability2.1.1.2：若再次读取失败，客户端发出警报


#### 3.3.5 业务规则

- BR1: 适用(商品标识，单据生成日期)的商品组合降价策略
  - (促销商品标识==商品组合)&&(开始日期早于等于生成日期)&&(结束日期晚于生成日期)
- BR2: 适用(总金额，单据生成日期)的商品满减优惠策略
  - (总金额≥触发金额)&&(开始日期早于等于生成日期)&&(结束日期晚于生成日期)
- BR3: 适用(VIP等级，单据生成日期)的VIP优惠策略
  - (VIP等级≥触发等级)&&(开始日期早于等于生成日期)&&(结束日期晚于生成日期)
- BR4: 合法的(数量)的销售／退货单据
  - (数量≤库存数)
  


#### 3.3.6 约束

- IC1：与系统有关所有的操作都通过键盘鼠标完成
- IC2：所有的文档尽可能参考IEEE标准


### 3.4 数据需求


#### 3.4.1 数据定义

- DR1：系统产生的单据存在数据库中
- DR2：缓存数据服务器

#### 3.4.2 默认数据


#### 3.4.3 数据格式要求

- 编号相关：
    - 1.商品分类编号与商品编号一起，从1开始递增
    - 2.进货单JHD-yyyyMMdd-xxxxx
    - 3.销售单XSD-yyyyMMdd-xxxxx
    - 4.进货退货单JHTHD-yyyyMMdd-xxxxx
    - 5.销售退货单XSTHD-yyyyMMdd-xxxxx

- 格式相关：
    - 1.日期格式YYYY-MM-DD HH:MM
    - 2.银行账户名只允许输入中文英文和下划线
    - 3.数字输入为整数部分超过8位或小数部分超过2位或含有除了小数点之外的非数字字符 
    - 4.用户账号名不超过8位，密码不超过10位，账号名要求英文开头

- 分类相关：
    - 1. 销售类单据(销售出货单，销售退货单)
    - 2. 进货类单据(进货单，进货退货单) 
    - 3. 财务类单据(付款单，收款单，现⾦费用单)
    - 4. 库存类单据(报溢单，报损单，赠送单)
    - 5. 收入类：销售收入、商品类收入 (商品报溢收入 成本调价收入 进货退货差价 代金券与实际收款差额收入)。收入类显示折让后总收入， 并显示折让了多少
    - 6. 支出类：销售成本、商品类支出 (商品报损 商品赠出)。⽀出类显示总支出
    - 7. 利润：折让后总收⼊-总支出

- 列表相关：
    - 1.转账列表包含:银行账户、转账金额、备注
    - 2.现金费用单的条目清单包括条目名，金额(数字)和备注

- 内容相关：
    - 1.商品：商品信息有名称、型号、库存数量、进货均价、销售均价、出厂日期
    - 2.客户：编号、分类、级别、姓名、电话、地址、邮编、电子邮箱、应收额度、应收、应付、默认业务员
    - 3.银行账户：账户名，余额
    - 4.用户：登录ID、账户名、密码、权限、类型
    - 5.付/收款单单据：单据编号、客户、操作员(当前操作人员)、转账列表、总额汇总
    - 6.进货单：单据编号(JHD-yyyyMMdd-xxxxx)、供应商、仓库、操作员、入库商品列表、备注、总额合计(不可输入非数字)
    - 7.销售单：单据编号(XSD-yyyyMMdd-xxxxx)、客户、业务员、操作员、仓库、出货商品清单、折让前总额、折让(不可输入非数字)、使用代金卷金额(不可输入非数字)、折让后总额、备注
    - 8.进货退货单：单据编号(JHTHD-yyyyMMdd-xxxxx)、供应商、仓库、操作员、入库商品列表、备注、总额合计(不可输入非数字)
    - 9.销售退货单：单据编号(XSTHD-yyyyMMdd-xxxxx)、客户、业务员、操作员、仓库、出货商品清单、总额(不可输入非数字)、备注
    - 10.转账列表包含:银行账户、转账金额、备注
    - 11.现金费用单的条目清单包括条目名，金额(数字)和备注
    - 12.商品列表：商品编号(选择商品后系统自动显示)、名称(从已有商品中选择)、型号(选择商品后系统自动显示)、数量(不可输入非整数)、单价(默认商品在仓库中的价格，可修改)、金额(自动计算)、备注
    - 13.审批单据：单据类型，单据状态
    - 14.促销类型：VIP优惠，组合降价，满减优惠
    - 15.VIP优惠：优惠级别，优惠手段(包括赠品，价格折让，代金券)
    - 16.组合降价：商品组合，现价、触发金额，优惠金额
    - 17.经营情况表：销售收入、商品收入、总收入、销售支出、商品支出、总支出、总利润

- 排序相关：
    - 1.商品：可排序字段：名称、库存数量、销售均价、进货均价、出厂日期
    - 2.客户：名称，编号，添加日期，应付，应收，VIP等级
    - 3.银行账户：名称，余额
    - 4.期初建账：
        - 商品名称，类别，型号，上年平均进价，上年平均售价
        - 客户名称，客户编号，客户类别，客户级别，电话，地址，邮编，电子邮箱，应付额度，应付，应收，默认业务员
        - 账户名，余额


### 3.5 其他需求

无